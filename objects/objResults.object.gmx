<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10024</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

    TitleOffset     = view_wview[0];
    ScoreOffset     = view_wview[0];
    
    ShowContinue    = true;

    audio_stop_sound(global.CurrentSong);
    audio_stop_sound(sndInvincibility);
    audio_stop_sound(sndSuperSonic);
    audio_play_sound(sndResults, 1, false);
    if(audio_is_playing(sndLife))
        audio_sound_gain(sndResults, 0, 0);
    
    global.CurrentSong = sndResults;
    Continue           = false;
    Life               = false;
    
    Seconds = floor(global.GameTime/1000);
    
    if(Seconds &lt;= 29)
        TimeBonus   = 50000;
    else if(Seconds &gt; 29 &amp;&amp; Seconds &lt;= 44)
        TimeBonus   = 10000;
    else if(Seconds &gt;= 45 &amp;&amp; Seconds &lt;= 59)
        TimeBonus   = 5000;
    else if(Seconds &gt;= 60 &amp;&amp; Seconds &lt;= 89)
        TimeBonus   = 4000;
    else if(Seconds &gt;= 90 &amp;&amp; Seconds &lt;= 119)
        TimeBonus   = 3000;
    else if(Seconds &gt;= 120 &amp;&amp; Seconds &lt;= 179)
        TimeBonus   = 2000;
    else if(Seconds &gt;= 180 &amp;&amp; Seconds &lt;= 239)
        TimeBonus   = 1000;
    else if(Seconds &gt;= 240 &amp;&amp; Seconds &lt;= 299)
        TimeBonus   = 500; 
    else if(Seconds &gt;= 300)
        TimeBonus   = 0;
        
        
    RingBonus   = global.Rings*100;
    instance_activate_all();
    //PerfectBonus = 
    if(instance_number(objRing) == 0){
        PerfectBonus = 50000;
        Perfect = true;
    }else{
        Perfect = false;
        PerfectBonus = 0;
    }
    Total       = 0;
    
    alarm[0]    = -1;
    
    switch(global.Character[0]){
        case consCharacterSonic:
            CharacterId = "SONIC";
            break;
        case consCharacterTails:
            CharacterId = "TAILS";
            break;
        case consCharacterKnuckles:
            CharacterId = "KNUCKLES";
            break;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
    global.Level           += 1;
    scrSaveGame();
    global.Checkpoint       = false;
    global.CheckpointX      = 0;
    global.CheckpointY      = 0;
    if(global.Level == ds_list_size(global.LevelList))
        room_goto(global.EndGameRoom);
    else
        room_goto(ds_list_find_value(global.LevelList, global.Level));
    
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
    if(TitleOffset &gt; 0){
        TitleOffset = max(0, TitleOffset-16);
    }else if(ScoreOffset &gt; 0){
        ScoreOffset = max(0, ScoreOffset-16);
        TallyAlarm = global.Frame;
    }else{
        if(global.Frame &gt; TallyAlarm+180){
            if(TimeBonus &gt; 0 || RingBonus &gt; 0 || PerfectBonus &gt; 0){
                audio_stop_sound(sndSwitchBlip);
                audio_play_sound(sndSwitchBlip, 1, false);
            }
            if(TimeBonus &gt; 0){
                global.Score    += 100;
                Total           += 100;
                TimeBonus       -= 100;
            }
            if(RingBonus &gt; 0){
                global.Score    += 100;
                Total           += 100;
                RingBonus       -= 100;
            }
            if(PerfectBonus &gt; 0){
                global.Score    += 100;
                Total           += 100;
                PerfectBonus    -= 100;
            }
            if(Total &gt; 50000 &amp;&amp; Life == false){
                global.Lives++;
                audio_stop_all();
                audio_play_sound(sndLife, 1, false);
                Life = true;
            }
            if(TimeBonus == 0 &amp;&amp; RingBonus == 0 &amp;&amp; PerfectBonus == 0 &amp;&amp; alarm[0] &lt; 0){
                if(Total &lt; 50000)
                    audio_play_sound(sndTallyFinish, 1, false);
                alarm[0] = 240;   
                if(Total &gt; 10000){
                    Continue = true;   
                    global.Continues++; 
                }          
            }
        }      
    }
    
    with(objController){
        CameraMinX          = view_xview[0];
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>    
    draw_set_font(global.FontTitle);
    draw_set_halign(fa_center);
    
    draw_text(view_xview[0]+(view_wview[0]/2)-TitleOffset-16, view_yview[0]+64, CharacterId+" GOT");
    draw_text(view_xview[0]+(view_wview[0]/2)+TitleOffset-16, view_yview[0]+82, "THROUGH ACT");
      
    draw_set_halign(fa_left);
    
    draw_sprite(sprFontAct, global.Act-1,view_xview[0]+(view_wview[0]/2)+TitleOffset+(string_width("THROUGH ACT")/2), view_yview[0]+69);
    
    draw_sprite(sprResultsHUD, 0, view_xview[0]+ScoreOffset+(view_wview[0]/2)-112, view_yview[0]+120);    
    draw_sprite(sprResultsHUD, 1, view_xview[0]+ScoreOffset+(view_wview[0]/2)-112, view_yview[0]+136); 
    if(Perfect == true)
        draw_sprite(sprResultsHUD, 3, view_xview[0]+ScoreOffset+(view_wview[0]/2)-112, view_yview[0]+152);   
    draw_sprite(sprResultsHUD, 2, view_xview[0]+ScoreOffset+(view_wview[0]/2)-112, view_yview[0]+168);
    
    draw_set_halign(fa_right);
    draw_set_font(global.FontS2HUD);
    draw_text(view_xview[0]+ScoreOffset+(view_wview[0]/2)+96, view_yview[0]+120, TimeBonus);
    draw_text(view_xview[0]+ScoreOffset+(view_wview[0]/2)+96, view_yview[0]+136, RingBonus);

    if(Perfect == true)
        draw_text(view_xview[0]+ScoreOffset+(view_wview[0]/2)+96, view_yview[0]+152, PerfectBonus);

    if(Continue == true){
        if(ShowContinue == true)
            draw_sprite(sprContinue, global.Frame/13, view_xview[0]+(view_wview[0]/2)+112, view_yview[0]+168);

        if(global.Frame mod 30 == 0)
            ShowContinue = !ShowContinue;
    }
    draw_text(view_xview[0]+ScoreOffset+(view_wview[0]/2)+96, view_yview[0]+168, Total);
    
    draw_set_halign(fa_left);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
